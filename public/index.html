<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Zen Notebook</title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <style type="text/css">
      @import "https://ajax.googleapis.com/ajax/libs/dojo/1.6.0/dijit/themes/tundra/tundra.css";
      @import "https://ajax.googleapis.com/ajax/libs/dojo/1.6.0/dojo/resources/dojo.css";
      @import "stylesheets/zen.css";
    </style>
  </head>
  <body class="tundra">
    <script src="https://www.google.com/jsapi?key=ABQIAAAAvmYe20gMb-FECPqg1NBQWhT2yXp_ZAY8_ufC3CFXhHIE1NvwkxQHRH-V6rlCGMZcROUUf5124nHP3A"
            type="text/javascript"></script>
    <div>
      <img id="zenLoadingImg" src="images/loading.gif" alt="loading" />
    </div>
    <div id="zen"></div>
    <div id="remoteWebPage" data-dojo-type="dojox.layout.ContentPane"
	 data-dojo-props='href:"web/localhost/experiments/javascript/clone_dom/clone_dom_dojo.html"'>
    <div id="diagramPane" style="width:1px; height:1px;"></div>
    <script type="text/javascript">
      djConfig = {
          parseOnLoad: true,
          isDebug: true,
          dojoBlankHtmlUrl:'javascripts/dojo/dojo/resources/blank.html',
          baseUrl: "./",
          modulePaths: { zen: "javascripts/zen" }
      };
      google.load("dojo", "1.6.0", { uncompressed:true });
    </script>
    <script type="text/javascript" src="javascripts/zen/test.js">/</script>
    <script type="text/javascript">
      dojo.addOnLoad(function() {
	  dojo.require("dojox.layout.ContentPane");
          dojo.require("zen.dojo");
          dojo.require("zen");
	  dojo.addOnLoad(function() {
	      zen.init();
	      var rwp = dijit.byId("remoteWebPage");
	      rwp.onLoad = function () {
		  console.debug("Hi, from the remote web page!");
		  var remoteJson = dojo.query("#remoteJson")[0].firstChild.textContent;
		  var remoteContent = dojo.fromJson(remoteJson);
		  zen.renderForest(remoteContent, zen.zenDiv);
	      }
	  });
      });
    </script>
  </body>
</html>
